<div class="notes">
  <% unless current_page?edit_user_registration_path %>
    <h2><span class="mark">*</span>は必須項目です。</h2>
  <% end %>
</div>

<div class="field">
    <%= f.label :ユーザーネーム, class: "required" %><br />
    <%= f.text_field :username, autofocus: true,autocomplete: "username", class: 'form-control', size: 15, required: true %>
  </div>

<div class="field">
    <%= f.label :プロフィール画像 %>
<br>
    <%= f.file_field :image %>
</div>

  <div class="field">
    <%= f.label :email, "メールアドレス", class: "required" %><br />
    <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control', size: 32, required: true %>
  </div>

  <div class="field">
    <%= f.label :プロフィール %>200文字以内<br />
    <%= f.text_area :profile, autofocus: true, size: "20x10", autocomplete: "profile", "onKeyUp" => "countLength(value, 'textlength');" ,class: 'form-control required' %>
      <p id="textlength">0</p>
  </div>

    <div class="field">
      <%= f.label :パスワード, class: "required"  %>
      <% if @minimum_password_length %>
      <em>(<%= @minimum_password_length %> characters minimum)</em>
      <% end %><br />
      <%= f.password_field :password, autocomplete: "new-password", class: 'form-control', size: 16%>
    </div>

    <div class="field">
      <%= f.label :パスワード確認, class: "required" %><br>
      <%= f.password_field :password_confirmation, autocomplete: "new-password", class: 'form-control', size: 16 %>
    </div>
  <% unless current_page?new_user_registration_path %>
    <div class="field">
    <%= f.label :current_password %> <i>(変更するために現在のパスワードを入力してください)</i><br />
    <%= f.password_field :current_password, autocomplete: "current-password", size: 16 %>
  </div>
  <% end %>

<script>
      const countLength = ( text, field ) => {
        document.getElementById(field).innerHTML = text.length;
      }
</script>